<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ø§Ù„Ø·ÙˆØ§Ø±Ø¦ Ø§Ù„Ø·Ø¨ÙŠØ© - Ø§Ù„Ù†Ø¸Ø§Ù… Ø§Ù„Ø·Ø¨ÙŠ Ø§Ù„Ø°ÙƒÙŠ</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.rtl.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
    <style>
        :root {
            --danger-gradient: linear-gradient(135deg, #dc3545 0%, #e83e8c 100%);
            --warning-gradient: linear-gradient(135deg, #ffc107 0%, #fd7e14 100%);
            --success-gradient: linear-gradient(135deg, #28a745 0%, #20c997 100%);
            --primary-gradient: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            --card-shadow: 0 15px 35px rgba(0,0,0,0.1);
            --border-radius: 20px;
        }

        body {
            font-family: 'Cairo', sans-serif;
            background: var(--danger-gradient);
            min-height: 100vh;
            padding: 20px;
        }

        .navbar {
            background: white !important;
            box-shadow: var(--card-shadow);
            border-radius: var(--border-radius);
            margin-bottom: 2rem;
        }

        .navbar-brand {
            background: var(--danger-gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            font-weight: 700;
        }

        .main-container {
            max-width: 1000px;
            margin: 0 auto;
        }

        .emergency-header {
            background: var(--danger-gradient);
            color: white;
            border-radius: var(--border-radius);
            padding: 2rem;
            text-align: center;
            margin-bottom: 2rem;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.02); }
            100% { transform: scale(1); }
        }

        .emergency-card {
            background: white;
            border-radius: var(--border-radius);
            box-shadow: var(--card-shadow);
            padding: 2rem;
            margin-bottom: 2rem;
        }

        .emergency-number {
            background: var(--danger-gradient);
            color: white;
            border-radius: 15px;
            padding: 1.5rem;
            text-align: center;
            margin-bottom: 1rem;
            transition: transform 0.3s ease;
        }

        .emergency-number:hover {
            transform: scale(1.05);
            cursor: pointer;
        }

        .emergency-number h3 {
            font-size: 2.5rem;
            font-weight: 700;
            margin-bottom: 0.5rem;
        }

        .symptom-checker {
            background: #fff3cd;
            border: 2px solid #ffc107;
            border-radius: 15px;
            padding: 1.5rem;
            margin-bottom: 2rem;
        }

        .emergency-symptom {
            background: #f8d7da;
            border: 1px solid #dc3545;
            border-radius: 10px;
            padding: 1rem;
            margin-bottom: 1rem;
            transition: all 0.3s ease;
        }

        .emergency-symptom:hover {
            background: #dc3545;
            color: white;
            cursor: pointer;
        }

        .hospital-card {
            background: white;
            border-radius: 15px;
            padding: 1.5rem;
            margin-bottom: 1rem;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            transition: transform 0.3s ease;
        }

        .hospital-card:hover {
            transform: translateY(-5px);
        }

        .hospital-distance {
            background: var(--success-gradient);
            color: white;
            padding: 0.25rem 0.75rem;
            border-radius: 15px;
            font-size: 0.8rem;
            font-weight: 600;
        }

        .btn-emergency {
            background: var(--danger-gradient);
            border: none;
            color: white;
            border-radius: 25px;
            padding: 1rem 2rem;
            font-weight: 700;
            font-size: 1.1rem;
            transition: all 0.3s ease;
            animation: glow 2s infinite;
        }

        @keyframes glow {
            0% { box-shadow: 0 0 5px rgba(220, 53, 69, 0.5); }
            50% { box-shadow: 0 0 20px rgba(220, 53, 69, 0.8); }
            100% { box-shadow: 0 0 5px rgba(220, 53, 69, 0.5); }
        }

        .btn-emergency:hover {
            transform: scale(1.05);
            background: #c82333;
        }

        .first-aid-step {
            background: #d1ecf1;
            border: 1px solid #17a2b8;
            border-radius: 10px;
            padding: 1rem;
            margin-bottom: 1rem;
            border-left: 5px solid #17a2b8;
        }

        .step-number {
            width: 30px;
            height: 30px;
            border-radius: 50%;
            background: #17a2b8;
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            margin-left: 1rem;
            flex-shrink: 0;
        }

        .location-card {
            background: var(--primary-gradient);
            color: white;
            border-radius: 15px;
            padding: 1.5rem;
            text-align: center;
            margin-bottom: 2rem;
        }

        .emergency-contact {
            background: #f8f9fa;
            border-radius: 10px;
            padding: 1rem;
            margin-bottom: 1rem;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .contact-icon {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: var(--danger-gradient);
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-left: 1rem;
        }

        .alert-emergency {
            background: var(--danger-gradient);
            color: white;
            border: none;
            border-radius: 15px;
            padding: 1.5rem;
            margin-bottom: 2rem;
            animation: blink 1s infinite;
        }

        @keyframes blink {
            0%, 50% { opacity: 1; }
            51%, 100% { opacity: 0.7; }
        }

        @media (max-width: 768px) {
            .main-container {
                padding: 0 10px;
            }
            
            .emergency-card {
                padding: 1rem;
            }
            
            .emergency-number h3 {
                font-size: 2rem;
            }
        }
    </style>
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar navbar-expand-lg navbar-light">
        <div class="container">
            <a class="navbar-brand" href="unified-medical-system.html">
                <i class="fas fa-heartbeat me-2"></i>Ø§Ù„Ù†Ø¸Ø§Ù… Ø§Ù„Ø·Ø¨ÙŠ Ø§Ù„Ø°ÙƒÙŠ
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav me-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="unified-medical-system.html">
                            <i class="fas fa-home me-1"></i>Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="help-support.html">
                            <i class="fas fa-question-circle me-1"></i>Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯Ø©
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link active" href="emergency.html">
                            <i class="fas fa-ambulance me-1"></i>Ø§Ù„Ø·ÙˆØ§Ø±Ø¦
                        </a>
                    </li>
                </ul>
                <ul class="navbar-nav">
                    <li class="nav-item">
                        <a class="nav-link" href="#" onclick="logout()">
                            <i class="fas fa-sign-out-alt me-1"></i>ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬
                        </a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <div class="main-container">
        <!-- Emergency Alert -->
        <div class="alert alert-emergency">
            <div class="d-flex align-items-center">
                <i class="fas fa-exclamation-triangle fa-2x me-3"></i>
                <div>
                    <h5 class="mb-1">âš ï¸ ØªØ­Ø°ÙŠØ±: Ù‡Ø°Ù‡ ØµÙØ­Ø© Ø§Ù„Ø·ÙˆØ§Ø±Ø¦ Ø§Ù„Ø·Ø¨ÙŠØ©</h5>
                    <p class="mb-0">ÙÙŠ Ø­Ø§Ù„Ø© Ø§Ù„Ø·ÙˆØ§Ø±Ø¦ Ø§Ù„Ø­Ù‚ÙŠÙ‚ÙŠØ©ØŒ Ø§ØªØµÙ„ Ø¨Ø§Ù„Ø¥Ø³Ø¹Ø§Ù ÙÙˆØ±Ø§Ù‹ Ø¹Ù„Ù‰ Ø§Ù„Ø±Ù‚Ù… 997</p>
                </div>
            </div>
        </div>

        <!-- Header -->
        <div class="emergency-header">
            <h2><i class="fas fa-ambulance me-3"></i>Ø§Ù„Ø·ÙˆØ§Ø±Ø¦ Ø§Ù„Ø·Ø¨ÙŠØ©</h2>
            <p class="mb-0">Ù…Ø³Ø§Ø¹Ø¯Ø© ÙÙˆØ±ÙŠØ© ÙÙŠ Ø§Ù„Ø­Ø§Ù„Ø§Øª Ø§Ù„Ø¹Ø§Ø¬Ù„Ø©</p>
        </div>

        <!-- Emergency Numbers -->
        <div class="emergency-card">
            <h4><i class="fas fa-phone me-2"></i>Ø£Ø±Ù‚Ø§Ù… Ø§Ù„Ø·ÙˆØ§Ø±Ø¦</h4>
            <div class="row">
                <div class="col-md-4">
                    <div class="emergency-number" onclick="callEmergency('997')">
                        <h3>997</h3>
                        <h6>Ø§Ù„Ø¥Ø³Ø¹Ø§Ù</h6>
                        <small>Ø®Ø¯Ù…Ø© Ø·ÙˆØ§Ø±Ø¦ Ø·Ø¨ÙŠØ©</small>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="emergency-number" onclick="callEmergency('911')">
                        <h3>911</h3>
                        <h6>Ø§Ù„Ø·ÙˆØ§Ø±Ø¦ Ø§Ù„Ø¹Ø§Ù…Ø©</h6>
                        <small>Ø¬Ù…ÙŠØ¹ Ø£Ù†ÙˆØ§Ø¹ Ø§Ù„Ø·ÙˆØ§Ø±Ø¦</small>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="emergency-number" onclick="callEmergency('998')">
                        <h3>998</h3>
                        <h6>Ø§Ù„Ø¯ÙØ§Ø¹ Ø§Ù„Ù…Ø¯Ù†ÙŠ</h6>
                        <small>Ø§Ù„Ø­Ø±Ø§Ø¦Ù‚ ÙˆØ§Ù„Ø¥Ù†Ù‚Ø§Ø°</small>
                    </div>
                </div>
            </div>
        </div>

        <!-- Symptom Checker -->
        <div class="emergency-card">
            <h4><i class="fas fa-heartbeat me-2"></i>ÙØ­Øµ Ø§Ù„Ø£Ø¹Ø±Ø§Ø¶ Ø§Ù„Ø¹Ø§Ø¬Ù„Ø©</h4>
            <div class="symptom-checker">
                <h6><i class="fas fa-exclamation-circle me-2"></i>Ø§ØªØµÙ„ Ø¨Ø§Ù„Ø¥Ø³Ø¹Ø§Ù ÙÙˆØ±Ø§Ù‹ Ø¥Ø°Ø§ ÙƒÙ†Øª ØªØ¹Ø§Ù†ÙŠ Ù…Ù†:</h6>
                <div class="row">
                    <div class="col-md-6">
                        <div class="emergency-symptom" onclick="handleEmergencySymptom('chest-pain')">
                            ğŸ’” Ø£Ù„Ù… Ø´Ø¯ÙŠØ¯ ÙÙŠ Ø§Ù„ØµØ¯Ø±
                        </div>
                        <div class="emergency-symptom" onclick="handleEmergencySymptom('breathing')">
                            ğŸ« ØµØ¹ÙˆØ¨Ø© Ø´Ø¯ÙŠØ¯Ø© ÙÙŠ Ø§Ù„ØªÙ†ÙØ³
                        </div>
                        <div class="emergency-symptom" onclick="handleEmergencySymptom('consciousness')">
                            ğŸ˜µ ÙÙ‚Ø¯Ø§Ù† Ø§Ù„ÙˆØ¹ÙŠ
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="emergency-symptom" onclick="handleEmergencySymptom('bleeding')">
                            ğŸ©¸ Ù†Ø²ÙŠÙ Ø´Ø¯ÙŠØ¯ Ù„Ø§ ÙŠØªÙˆÙ‚Ù
                        </div>
                        <div class="emergency-symptom" onclick="handleEmergencySymptom('stroke')">
                            ğŸ§  Ø£Ø¹Ø±Ø§Ø¶ Ø§Ù„Ø³ÙƒØªØ© Ø§Ù„Ø¯Ù…Ø§ØºÙŠØ©
                        </div>
                        <div class="emergency-symptom" onclick="handleEmergencySymptom('poisoning')">
                            â˜ ï¸ Ø§Ù„ØªØ³Ù…Ù…
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Location Services -->
        <div class="location-card">
            <h5><i class="fas fa-map-marker-alt me-2"></i>Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ Ø£Ù‚Ø±Ø¨ Ù…Ø³ØªØ´ÙÙ‰</h5>
            <p class="mb-3">Ø§Ø¶ØºØ· Ù„Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ Ø£Ù‚Ø±Ø¨ Ù…Ø³ØªØ´ÙÙ‰ Ø£Ùˆ Ù…Ø±ÙƒØ² Ø·ÙˆØ§Ø±Ø¦</p>
            <button class="btn btn-light btn-lg" onclick="findNearestHospital()">
                <i class="fas fa-location-arrow me-2"></i>ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ù…ÙˆÙ‚Ø¹
            </button>
        </div>

        <!-- Nearest Hospitals -->
        <div class="emergency-card">
            <h4><i class="fas fa-hospital me-2"></i>Ø£Ù‚Ø±Ø¨ Ø§Ù„Ù…Ø³ØªØ´ÙÙŠØ§Øª</h4>
            <div id="hospitalsList">
                <!-- Ø³ÙŠØªÙ… Ù…Ù„Ø¤Ù‡Ø§ Ø¨Ù€ JavaScript -->
            </div>
        </div>

        <!-- First Aid Instructions -->
        <div class="emergency-card">
            <h4><i class="fas fa-first-aid me-2"></i>Ø¥Ø±Ø´Ø§Ø¯Ø§Øª Ø§Ù„Ø¥Ø³Ø¹Ø§ÙØ§Øª Ø§Ù„Ø£ÙˆÙ„ÙŠØ©</h4>
            <div class="row">
                <div class="col-md-6">
                    <h6>Ø§Ù„Ø¥Ù†Ø¹Ø§Ø´ Ø§Ù„Ù‚Ù„Ø¨ÙŠ Ø§Ù„Ø±Ø¦ÙˆÙŠ (CPR)</h6>
                    <div class="first-aid-step">
                        <div class="d-flex align-items-start">
                            <div class="step-number">1</div>
                            <div>
                                <strong>ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø§Ø³ØªØ¬Ø§Ø¨Ø©</strong>
                                <p class="mb-0 small">Ø§Ù‡Ø² Ø§Ù„Ø´Ø®Øµ Ø¨Ù„Ø·Ù ÙˆØ§ØµØ±Ø® "Ù‡Ù„ Ø£Ù†Øª Ø¨Ø®ÙŠØ±ØŸ"</p>
                            </div>
                        </div>
                    </div>
                    <div class="first-aid-step">
                        <div class="d-flex align-items-start">
                            <div class="step-number">2</div>
                            <div>
                                <strong>Ø§ØªØµÙ„ Ø¨Ø§Ù„Ø¥Ø³Ø¹Ø§Ù</strong>
                                <p class="mb-0 small">Ø§ØªØµÙ„ Ø¨Ù€ 997 ÙÙˆØ±Ø§Ù‹</p>
                            </div>
                        </div>
                    </div>
                    <div class="first-aid-step">
                        <div class="d-flex align-items-start">
                            <div class="step-number">3</div>
                            <div>
                                <strong>Ø§Ø¨Ø¯Ø£ Ø§Ù„Ø¶ØºØ·</strong>
                                <p class="mb-0 small">30 Ø¶ØºØ·Ø© Ø¹Ù„Ù‰ Ø§Ù„ØµØ¯Ø±ØŒ Ø«Ù… Ù†ÙØ³ÙŠÙ†</p>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="col-md-6">
                    <h6>Ø¥ÙŠÙ‚Ø§Ù Ø§Ù„Ù†Ø²ÙŠÙ</h6>
                    <div class="first-aid-step">
                        <div class="d-flex align-items-start">
                            <div class="step-number">1</div>
                            <div>
                                <strong>Ø§Ø¶ØºØ· Ù…Ø¨Ø§Ø´Ø±Ø©</strong>
                                <p class="mb-0 small">Ø§Ø¶ØºØ· Ø¨Ù‚ÙˆØ© Ø¹Ù„Ù‰ Ù…ÙƒØ§Ù† Ø§Ù„Ù†Ø²ÙŠÙ</p>
                            </div>
                        </div>
                    </div>
                    <div class="first-aid-step">
                        <div class="d-flex align-items-start">
                            <div class="step-number">2</div>
                            <div>
                                <strong>Ø§Ø±ÙØ¹ Ø§Ù„Ù…Ù†Ø·Ù‚Ø©</strong>
                                <p class="mb-0 small">Ø§Ø±ÙØ¹ Ø§Ù„Ø¬Ø²Ø¡ Ø§Ù„Ù…ØµØ§Ø¨ ÙÙˆÙ‚ Ù…Ø³ØªÙˆÙ‰ Ø§Ù„Ù‚Ù„Ø¨</p>
                            </div>
                        </div>
                    </div>
                    <div class="first-aid-step">
                        <div class="d-flex align-items-start">
                            <div class="step-number">3</div>
                            <div>
                                <strong>Ù„Ø§ ØªØ²ÙŠÙ„ Ø§Ù„Ø¶Ù…Ø§Ø¯Ø©</strong>
                                <p class="mb-0 small">Ø£Ø¶Ù Ø¶Ù…Ø§Ø¯Ø§Øª Ø¥Ø¶Ø§ÙÙŠØ© Ø¥Ø°Ø§ Ù„Ø²Ù… Ø§Ù„Ø£Ù…Ø±</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Emergency Contacts -->
        <div class="emergency-card">
            <h4><i class="fas fa-address-book me-2"></i>Ø¬Ù‡Ø§Øª Ø§ØªØµØ§Ù„ Ø¥Ø¶Ø§ÙÙŠØ©</h4>
            <div class="emergency-contact">
                <div class="d-flex align-items-center">
                    <div class="contact-icon">
                        <i class="fas fa-poison"></i>
                    </div>
                    <div>
                        <h6 class="mb-0">Ù…Ø±ÙƒØ² Ø§Ù„Ø³Ù…ÙˆÙ…</h6>
                        <small class="text-muted">Ù„Ù„ØªØ³Ù…Ù… ÙˆØ§Ù„Ø­ÙˆØ§Ø¯Ø« Ø§Ù„ÙƒÙŠÙ…ÙŠØ§Ø¦ÙŠØ©</small>
                    </div>
                </div>
                <button class="btn btn-outline-danger btn-sm" onclick="callEmergency('920000120')">
                    920000120
                </button>
            </div>
            
            <div class="emergency-contact">
                <div class="d-flex align-items-center">
                    <div class="contact-icon">
                        <i class="fas fa-brain"></i>
                    </div>
                    <div>
                        <h6 class="mb-0">Ø®Ø· Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯Ø© Ø§Ù„Ù†ÙØ³ÙŠØ©</h6>
                        <small class="text-muted">Ù„Ù„Ø£Ø²Ù…Ø§Øª Ø§Ù„Ù†ÙØ³ÙŠØ© ÙˆØ§Ù„Ø§Ù†ØªØ­Ø§Ø±</small>
                    </div>
                </div>
                <button class="btn btn-outline-danger btn-sm" onclick="callEmergency('920033360')">
                    920033360
                </button>
            </div>
        </div>

        <!-- Emergency Action Button -->
        <div class="text-center">
            <button class="btn btn-emergency btn-lg" onclick="emergencyCall()">
                <i class="fas fa-phone me-2"></i>Ø§ØªØµØ§Ù„ Ø·ÙˆØ§Ø±Ø¦ ÙÙˆØ±ÙŠ
            </button>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        // Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…Ø³ØªØ´ÙÙŠØ§Øª (Ù…Ø­Ø§ÙƒØ§Ø©)
        const hospitals = [
            {
                name: "Ù…Ø³ØªØ´ÙÙ‰ Ø§Ù„Ù…Ù„Ùƒ ÙÙ‡Ø¯ Ø§Ù„Ø·Ø¨ÙŠ",
                address: "Ø´Ø§Ø±Ø¹ Ø§Ù„Ù…Ù„Ùƒ ÙÙ‡Ø¯ØŒ Ø§Ù„Ø±ÙŠØ§Ø¶",
                phone: "011-464-7272",
                distance: "2.3 ÙƒÙ…",
                emergency: true,
                rating: 4.5
            },
            {
                name: "Ù…Ø³ØªØ´ÙÙ‰ Ø§Ù„Ù…Ù„Ùƒ Ø®Ø§Ù„Ø¯ Ø§Ù„Ø¬Ø§Ù…Ø¹ÙŠ",
                address: "Ø¬Ø§Ù…Ø¹Ø© Ø§Ù„Ù…Ù„Ùƒ Ø³Ø¹ÙˆØ¯ØŒ Ø§Ù„Ø±ÙŠØ§Ø¶",
                phone: "011-467-9999",
                distance: "3.7 ÙƒÙ…",
                emergency: true,
                rating: 4.3
            },
            {
                name: "Ù…Ø³ØªØ´ÙÙ‰ Ø§Ù„Ù…Ù„Ùƒ ÙÙŠØµÙ„ Ø§Ù„ØªØ®ØµØµÙŠ",
                address: "Ø´Ø§Ø±Ø¹ Ø§Ù„ØªØ®ØµØµÙŠØŒ Ø§Ù„Ø±ÙŠØ§Ø¶",
                phone: "011-464-7272",
                distance: "5.1 ÙƒÙ…",
                emergency: true,
                rating: 4.8
            },
            {
                name: "Ù…Ø³ØªØ´ÙÙ‰ Ø§Ù„Ø£Ù…Ù† Ø§Ù„Ø¹Ø§Ù…",
                address: "Ø­ÙŠ Ø§Ù„Ù†Ø²Ù‡Ø©ØŒ Ø§Ù„Ø±ÙŠØ§Ø¶",
                phone: "011-401-9999",
                distance: "6.2 ÙƒÙ…",
                emergency: true,
                rating: 4.2
            }
        ];

        // ØªØ­Ù…ÙŠÙ„ Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…Ø³ØªØ´ÙÙŠØ§Øª
        function loadHospitals() {
            const container = document.getElementById('hospitalsList');
            let html = '';

            hospitals.forEach(hospital => {
                const stars = 'â˜…'.repeat(Math.floor(hospital.rating)) + 'â˜†'.repeat(5 - Math.floor(hospital.rating));

                html += `
                    <div class="hospital-card">
                        <div class="d-flex justify-content-between align-items-start mb-2">
                            <div>
                                <h6 class="mb-1">${hospital.name}</h6>
                                <p class="text-muted mb-1">
                                    <i class="fas fa-map-marker-alt me-1"></i>${hospital.address}
                                </p>
                                <p class="text-muted mb-0">
                                    <i class="fas fa-phone me-1"></i>${hospital.phone}
                                </p>
                            </div>
                            <div class="text-end">
                                <div class="hospital-distance mb-1">${hospital.distance}</div>
                                <div class="text-warning small">${stars}</div>
                            </div>
                        </div>
                        <div class="d-flex gap-2">
                            <button class="btn btn-danger btn-sm" onclick="callHospital('${hospital.phone}')">
                                <i class="fas fa-phone me-1"></i>Ø§ØªØµØ§Ù„
                            </button>
                            <button class="btn btn-outline-primary btn-sm" onclick="getDirections('${hospital.name}')">
                                <i class="fas fa-directions me-1"></i>Ø§Ù„Ø§ØªØ¬Ø§Ù‡Ø§Øª
                            </button>
                            <button class="btn btn-outline-success btn-sm" onclick="shareLocation('${hospital.name}')">
                                <i class="fas fa-share me-1"></i>Ù…Ø´Ø§Ø±ÙƒØ©
                            </button>
                        </div>
                    </div>
                `;
            });

            container.innerHTML = html;
        }

        // Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø£Ø±Ù‚Ø§Ù… Ø§Ù„Ø·ÙˆØ§Ø±Ø¦
        function callEmergency(number) {
            if (confirm(`Ù‡Ù„ ØªØ±ÙŠØ¯ Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ù€ ${number}ØŸ\n\nØ³ÙŠØªÙ… ÙØªØ­ ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ù‡Ø§ØªÙ Ù„Ù„Ø§ØªØµØ§Ù„.`)) {
                // Ù…Ø­Ø§ÙƒØ§Ø© Ø§Ù„Ø§ØªØµØ§Ù„
                window.open(`tel:${number}`);

                // ØªØ³Ø¬ÙŠÙ„ Ø­Ø§Ù„Ø© Ø§Ù„Ø·ÙˆØ§Ø±Ø¦
                logEmergencyCall(number);
            }
        }

        // ØªØ³Ø¬ÙŠÙ„ Ù…ÙƒØ§Ù„Ù…Ø© Ø§Ù„Ø·ÙˆØ§Ø±Ø¦
        function logEmergencyCall(number) {
            const currentUser = JSON.parse(localStorage.getItem('currentUser'));
            if (!currentUser) return;

            const emergencyLog = JSON.parse(localStorage.getItem('emergencyLog') || '[]');

            const logEntry = {
                id: Date.now().toString(),
                userId: currentUser.id,
                number: number,
                timestamp: new Date().toISOString(),
                type: getEmergencyType(number)
            };

            emergencyLog.push(logEntry);
            localStorage.setItem('emergencyLog', JSON.stringify(emergencyLog));
        }

        // ØªØ­Ø¯ÙŠØ¯ Ù†ÙˆØ¹ Ø§Ù„Ø·ÙˆØ§Ø±Ø¦
        function getEmergencyType(number) {
            switch(number) {
                case '997': return 'Ø¥Ø³Ø¹Ø§Ù';
                case '911': return 'Ø·ÙˆØ§Ø±Ø¦ Ø¹Ø§Ù…Ø©';
                case '998': return 'Ø¯ÙØ§Ø¹ Ù…Ø¯Ù†ÙŠ';
                case '920000120': return 'Ù…Ø±ÙƒØ² Ø§Ù„Ø³Ù…ÙˆÙ…';
                case '920033360': return 'Ù…Ø³Ø§Ø¹Ø¯Ø© Ù†ÙØ³ÙŠØ©';
                default: return 'Ù…Ø³ØªØ´ÙÙ‰';
            }
        }

        // Ø§Ù„ØªØ¹Ø§Ù…Ù„ Ù…Ø¹ Ø§Ù„Ø£Ø¹Ø±Ø§Ø¶ Ø§Ù„Ø¹Ø§Ø¬Ù„Ø©
        function handleEmergencySymptom(symptom) {
            const symptoms = {
                'chest-pain': {
                    title: 'Ø£Ù„Ù… Ø´Ø¯ÙŠØ¯ ÙÙŠ Ø§Ù„ØµØ¯Ø±',
                    action: 'Ø§ØªØµÙ„ Ø¨Ø§Ù„Ø¥Ø³Ø¹Ø§Ù ÙÙˆØ±Ø§Ù‹ Ø¹Ù„Ù‰ 997',
                    instructions: [
                        'Ø§Ø¬Ù„Ø³ ÙÙŠ ÙˆØ¶Ø¹ Ù…Ø±ÙŠØ­',
                        'ÙÙƒ Ø§Ù„Ù…Ù„Ø§Ø¨Ø³ Ø§Ù„Ø¶ÙŠÙ‚Ø©',
                        'Ù„Ø§ ØªØªØ­Ø±Ùƒ ÙƒØ«ÙŠØ±Ø§Ù‹',
                        'Ø§Ù†ØªØ¸Ø± ÙˆØµÙˆÙ„ Ø§Ù„Ø¥Ø³Ø¹Ø§Ù'
                    ]
                },
                'breathing': {
                    title: 'ØµØ¹ÙˆØ¨Ø© Ø´Ø¯ÙŠØ¯Ø© ÙÙŠ Ø§Ù„ØªÙ†ÙØ³',
                    action: 'Ø§ØªØµÙ„ Ø¨Ø§Ù„Ø¥Ø³Ø¹Ø§Ù ÙÙˆØ±Ø§Ù‹ Ø¹Ù„Ù‰ 997',
                    instructions: [
                        'Ø§Ø¬Ù„Ø³ ÙÙŠ ÙˆØ¶Ø¹ Ù…Ø³ØªÙ‚ÙŠÙ…',
                        'ØªÙ†ÙØ³ Ø¨Ø¨Ø·Ø¡ ÙˆØ¹Ù…Ù‚',
                        'Ø§ÙØªØ­ Ø§Ù„Ù†ÙˆØ§ÙØ° Ù„Ù„Ù‡ÙˆØ§Ø¡ Ø§Ù„Ù†Ù‚ÙŠ',
                        'Ø§Ø¨Ù‚ Ù‡Ø§Ø¯Ø¦Ø§Ù‹'
                    ]
                },
                'consciousness': {
                    title: 'ÙÙ‚Ø¯Ø§Ù† Ø§Ù„ÙˆØ¹ÙŠ',
                    action: 'Ø§ØªØµÙ„ Ø¨Ø§Ù„Ø¥Ø³Ø¹Ø§Ù ÙÙˆØ±Ø§Ù‹ Ø¹Ù„Ù‰ 997',
                    instructions: [
                        'Ø¶Ø¹ Ø§Ù„Ø´Ø®Øµ ÙÙŠ ÙˆØ¶Ø¹ Ø§Ù„Ø¥ÙØ§Ù‚Ø©',
                        'ØªØ£ÙƒØ¯ Ù…Ù† ÙˆØ¶ÙˆØ­ Ù…Ø¬Ø±Ù‰ Ø§Ù„ØªÙ†ÙØ³',
                        'Ø±Ø§Ù‚Ø¨ Ø§Ù„ØªÙ†ÙØ³ ÙˆØ§Ù„Ù†Ø¨Ø¶',
                        'Ù„Ø§ ØªØªØ±Ùƒ Ø§Ù„Ø´Ø®Øµ ÙˆØ­Ø¯Ù‡'
                    ]
                },
                'bleeding': {
                    title: 'Ù†Ø²ÙŠÙ Ø´Ø¯ÙŠØ¯',
                    action: 'Ø§ØªØµÙ„ Ø¨Ø§Ù„Ø¥Ø³Ø¹Ø§Ù ÙÙˆØ±Ø§Ù‹ Ø¹Ù„Ù‰ 997',
                    instructions: [
                        'Ø§Ø¶ØºØ· Ù…Ø¨Ø§Ø´Ø±Ø© Ø¹Ù„Ù‰ Ø§Ù„Ø¬Ø±Ø­',
                        'Ø§Ø±ÙØ¹ Ø§Ù„Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ù…ØµØ§Ø¨Ø©',
                        'Ù„Ø§ ØªØ²ÙŠÙ„ Ø§Ù„Ø¶Ù…Ø§Ø¯Ø© Ø§Ù„Ù…Ø´Ø¨Ø¹Ø©',
                        'Ø­Ø§ÙØ¸ Ø¹Ù„Ù‰ Ø¯ÙØ¡ Ø§Ù„Ù…ØµØ§Ø¨'
                    ]
                },
                'stroke': {
                    title: 'Ø£Ø¹Ø±Ø§Ø¶ Ø§Ù„Ø³ÙƒØªØ© Ø§Ù„Ø¯Ù…Ø§ØºÙŠØ©',
                    action: 'Ø§ØªØµÙ„ Ø¨Ø§Ù„Ø¥Ø³Ø¹Ø§Ù ÙÙˆØ±Ø§Ù‹ Ø¹Ù„Ù‰ 997',
                    instructions: [
                        'Ø§Ø®ØªØ¨Ø§Ø± FAST: Ø§Ù„ÙˆØ¬Ù‡ØŒ Ø§Ù„Ø°Ø±Ø§Ø¹ÙŠÙ†ØŒ Ø§Ù„ÙƒÙ„Ø§Ù…ØŒ Ø§Ù„ÙˆÙ‚Øª',
                        'Ù„Ø§ ØªØ¹Ø· Ø£ÙŠ Ø£Ø¯ÙˆÙŠØ©',
                        'Ø³Ø¬Ù„ ÙˆÙ‚Øª Ø¨Ø¯Ø§ÙŠØ© Ø§Ù„Ø£Ø¹Ø±Ø§Ø¶',
                        'Ø§Ø¨Ù‚ Ù…Ø¹ Ø§Ù„Ù…ØµØ§Ø¨'
                    ]
                },
                'poisoning': {
                    title: 'Ø§Ù„ØªØ³Ù…Ù…',
                    action: 'Ø§ØªØµÙ„ Ø¨Ù…Ø±ÙƒØ² Ø§Ù„Ø³Ù…ÙˆÙ… Ø¹Ù„Ù‰ 920000120',
                    instructions: [
                        'Ù„Ø§ ØªØ­ÙØ² Ø¹Ù„Ù‰ Ø§Ù„Ù‚ÙŠØ¡',
                        'Ø§Ø­ØªÙØ¸ Ø¨Ø¹Ø¨ÙˆØ© Ø§Ù„Ù…Ø§Ø¯Ø© Ø§Ù„Ø³Ø§Ù…Ø©',
                        'Ø§Ø´Ø·Ù Ø§Ù„ÙÙ… Ø¨Ø§Ù„Ù…Ø§Ø¡ Ø¥Ø°Ø§ ÙƒØ§Ù† Ø§Ù„ØªØ³Ù…Ù… Ø¹Ù† Ø·Ø±ÙŠÙ‚ Ø§Ù„ÙÙ…',
                        'Ø§Ù†Ù‚Ù„ Ø§Ù„Ù…ØµØ§Ø¨ Ù„Ù„Ù‡ÙˆØ§Ø¡ Ø§Ù„Ù†Ù‚ÙŠ'
                    ]
                }
            };

            const symptomData = symptoms[symptom];
            if (symptomData) {
                let message = `ğŸš¨ ${symptomData.title}\n\n`;
                message += `âš¡ Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡ Ø§Ù„ÙÙˆØ±ÙŠ: ${symptomData.action}\n\n`;
                message += `ğŸ“‹ Ø§Ù„Ø¥Ø±Ø´Ø§Ø¯Ø§Øª:\n`;
                symptomData.instructions.forEach((instruction, index) => {
                    message += `${index + 1}. ${instruction}\n`;
                });

                if (confirm(message + '\nÙ‡Ù„ ØªØ±ÙŠØ¯ Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø·ÙˆØ§Ø±Ø¦ Ø§Ù„Ø¢Ù†ØŸ')) {
                    if (symptom === 'poisoning') {
                        callEmergency('920000120');
                    } else {
                        callEmergency('997');
                    }
                }
            }
        }

        // Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ Ø£Ù‚Ø±Ø¨ Ù…Ø³ØªØ´ÙÙ‰
        function findNearestHospital() {
            if (navigator.geolocation) {
                navigator.geolocation.getCurrentPosition(
                    function(position) {
                        const lat = position.coords.latitude;
                        const lng = position.coords.longitude;

                        alert(`ØªÙ… ØªØ­Ø¯ÙŠØ¯ Ù…ÙˆÙ‚Ø¹Ùƒ:\nØ®Ø· Ø§Ù„Ø¹Ø±Ø¶: ${lat.toFixed(6)}\nØ®Ø· Ø§Ù„Ø·ÙˆÙ„: ${lng.toFixed(6)}\n\nØ³ÙŠØªÙ… Ø¹Ø±Ø¶ Ø£Ù‚Ø±Ø¨ Ø§Ù„Ù…Ø³ØªØ´ÙÙŠØ§Øª Ø£Ø¯Ù†Ø§Ù‡.`);

                        // Ø¥Ø¹Ø§Ø¯Ø© ØªØ±ØªÙŠØ¨ Ø§Ù„Ù…Ø³ØªØ´ÙÙŠØ§Øª Ø­Ø³Ø¨ Ø§Ù„Ù…Ø³Ø§ÙØ© (Ù…Ø­Ø§ÙƒØ§Ø©)
                        loadHospitals();
                    },
                    function(error) {
                        alert('Ù„Ø§ ÙŠÙ…ÙƒÙ† ØªØ­Ø¯ÙŠØ¯ Ù…ÙˆÙ‚Ø¹Ùƒ. ÙŠØ±Ø¬Ù‰ Ø§Ù„Ø³Ù…Ø§Ø­ Ø¨Ø§Ù„ÙˆØµÙˆÙ„ Ù„Ù„Ù…ÙˆÙ‚Ø¹ Ø£Ùˆ Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ù€ 997 Ù…Ø¨Ø§Ø´Ø±Ø©.');
                        console.error('Ø®Ø·Ø£ ÙÙŠ ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ù…ÙˆÙ‚Ø¹:', error);
                    }
                );
            } else {
                alert('Ù…ØªØµÙØ­Ùƒ Ù„Ø§ ÙŠØ¯Ø¹Ù… Ø®Ø¯Ù…Ø§Øª ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ù…ÙˆÙ‚Ø¹. ÙŠØ±Ø¬Ù‰ Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ù€ 997 Ù…Ø¨Ø§Ø´Ø±Ø©.');
            }
        }

        // Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ù…Ø³ØªØ´ÙÙ‰
        function callHospital(phone) {
            callEmergency(phone);
        }

        // Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø§Ù„Ø§ØªØ¬Ø§Ù‡Ø§Øª
        function getDirections(hospitalName) {
            const googleMapsUrl = `https://www.google.com/maps/search/${encodeURIComponent(hospitalName + ' Ø§Ù„Ø±ÙŠØ§Ø¶')}`;
            window.open(googleMapsUrl, '_blank');
        }

        // Ù…Ø´Ø§Ø±ÙƒØ© Ø§Ù„Ù…ÙˆÙ‚Ø¹
        function shareLocation(hospitalName) {
            if (navigator.share) {
                navigator.share({
                    title: 'Ù…ÙˆÙ‚Ø¹ Ø§Ù„Ù…Ø³ØªØ´ÙÙ‰',
                    text: `Ø£Ù†Ø§ ÙÙŠ Ø·Ø±ÙŠÙ‚ÙŠ Ø¥Ù„Ù‰ ${hospitalName}`,
                    url: window.location.href
                });
            } else {
                // Ù†Ø³Ø® Ø§Ù„Ø±Ø§Ø¨Ø· Ù„Ù„Ø­Ø§ÙØ¸Ø©
                const text = `Ø£Ù†Ø§ ÙÙŠ Ø·Ø±ÙŠÙ‚ÙŠ Ø¥Ù„Ù‰ ${hospitalName}. ÙŠÙ…ÙƒÙ†Ùƒ Ù…ØªØ§Ø¨Ø¹Ø© Ù…ÙˆÙ‚Ø¹ÙŠ Ø¹Ù„Ù‰: ${window.location.href}`;
                navigator.clipboard.writeText(text).then(() => {
                    alert('ØªÙ… Ù†Ø³Ø® Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ù…ÙˆÙ‚Ø¹ Ù„Ù„Ø­Ø§ÙØ¸Ø©');
                });
            }
        }

        // Ø§ØªØµØ§Ù„ Ø·ÙˆØ§Ø±Ø¦ ÙÙˆØ±ÙŠ
        function emergencyCall() {
            const options = [
                { number: '997', name: 'Ø§Ù„Ø¥Ø³Ø¹Ø§Ù' },
                { number: '911', name: 'Ø§Ù„Ø·ÙˆØ§Ø±Ø¦ Ø§Ù„Ø¹Ø§Ù…Ø©' },
                { number: '998', name: 'Ø§Ù„Ø¯ÙØ§Ø¹ Ø§Ù„Ù…Ø¯Ù†ÙŠ' }
            ];

            let message = 'Ø§Ø®ØªØ± Ø±Ù‚Ù… Ø§Ù„Ø·ÙˆØ§Ø±Ø¦ Ø§Ù„Ù…Ù†Ø§Ø³Ø¨:\n\n';
            options.forEach((option, index) => {
                message += `${index + 1}. ${option.name} (${option.number})\n`;
            });

            const choice = prompt(message + '\nØ£Ø¯Ø®Ù„ Ø±Ù‚Ù… Ø§Ù„Ø®ÙŠØ§Ø± (1-3):');

            if (choice && choice >= 1 && choice <= 3) {
                const selectedOption = options[choice - 1];
                callEmergency(selectedOption.number);
            }
        }

        function logout() {
            if (confirm('Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬ØŸ')) {
                localStorage.removeItem('currentUser');
                window.location.href = 'login.html';
            }
        }

        // ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ø¹Ù†Ø¯ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙØ­Ø©
        document.addEventListener('DOMContentLoaded', function() {
            // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„
            const currentUser = JSON.parse(localStorage.getItem('currentUser'));
            if (!currentUser) {
                alert('ÙŠØ¬Ø¨ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø£ÙˆÙ„Ø§Ù‹');
                window.location.href = 'login.html';
                return;
            }

            loadHospitals();

            // ØªØ­Ø°ÙŠØ± Ø¹Ù†Ø¯ Ù…ØºØ§Ø¯Ø±Ø© Ø§Ù„ØµÙØ­Ø©
            window.addEventListener('beforeunload', function(e) {
                e.preventDefault();
                e.returnValue = 'Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ù…ØºØ§Ø¯Ø±Ø© ØµÙØ­Ø© Ø§Ù„Ø·ÙˆØ§Ø±Ø¦ØŸ';
            });
        });
    </script>
</body>
</html>
